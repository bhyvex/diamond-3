{% extends "skeleton.j2" %}

{% block title %}
  Edit
{% endblock %}

{% block body %}
  <div class="edit">
    <form method="POST" class="edit">
      <input type="hidden" name="_csrf_token" value="{{ g.csrf_token() }}">

      <fieldset>
        <legend>Page edition</legend>

        <div class="form-row">
          <label for="field-body" class="hidden">Page body</label>
          <textarea name="body" id="field-body" cols="80" rows="24"
            class="full-w editor">{{ page.body }}</textarea>
        </div>

        <div class="standard-rows">
          <div class="form-row">
            <label for="field-comment">Comment</label>
            <input name="comment" id="field-comment" type="text" class="full-w"
              placeholder="Describe your changes unless it's a minor edit">
          </div>

          <div class="form-row grid gutters">
            <dic class="row">
              <div class="col-s-6-12">
                <button type="button" class="full-w button-preview">
                  Preview
                </button>
              </div>

              <div class="col-s-6-12">
                <input type="submit" value="Save" class="full-w" />
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </form>

    <div class="preview"></div>
  </div>
{% endblock %}

{% block extra %}
  {% if g.param('editor', '') == 'codemirror' %}
    <link href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.min.css"
      rel="stylesheet">

    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/codemirror.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.20.2/mode/markdown/markdown.min.js"></script>
  {% endif %}
{% endblock %}
